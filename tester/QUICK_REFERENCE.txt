â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  MINISHELL TESTER - QUICK REFERENCE                      â•‘
â•‘                    with Integrated Leak/FD Checking                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RUNNING THE TESTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Basic Run:
    ./minishell_tester.sh

The tester will ask:
    "Run memory leak and FD checks for each test? (slower but comprehensive)"
    
    Answer 'y' for INTEGRATED testing (functional + leak + FD for EACH test)
    Answer 'n' for functional tests only (faster)

WHAT GETS TESTED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FUNCTIONAL TESTS (~176 tests):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Core Features (96 tests):
âœ“ Echo (11 tests)          - All variations including -n flags
âœ“ Pwd (1 test)             - Current directory
âœ“ Cd (4 tests)             - Root, home, error cases
âœ“ Env & Export (4 tests)   - Environment variables
âœ“ Unset (1 test)           - Remove variables
âœ“ Exit (3 tests)           - Exit codes and errors
âœ“ Pipes (7 tests)          - Simple and complex pipes
âœ“ Redirections (10 tests)  - >, >>, <, multiple redirects
âœ“ Quotes (10 tests)        - Single, double, mixed, empty
âœ“ Variables (7 tests)      - $VAR expansion
âœ“ Errors (5 tests)         - Command not found, syntax errors
âœ“ Export Advanced (5 tests) - Spaces, invalid identifiers
âœ“ Variable Expansion (4 tests) - Context-sensitive expansion
âœ“ Heredoc (2 tests)        - Basic and with variables
âœ“ Syntax Errors (4 tests)  - Lone operators
âœ“ Exit Status (3 tests)    - Negative, overflow, invalid
âœ“ Special Chars (4 tests)  - Paths, spaces, empty commands
âœ“ Complex Commands (8 tests) - Combined operations

Edge Cases (~80 tests):
âœ“ Quotes & Escaping (10 tests)  - Nested, empty, multiple
âœ“ Pipes (6 tests)                - Long chains, spacing
âœ“ Redirections (6 tests)         - Multiple, spacing
âœ“ Variables (7 tests)            - $$, concatenation
âœ“ Whitespace (6 tests)           - Tabs, spaces, empty
âœ“ Special Characters (10 tests)  - Numbers, punctuation
âœ“ Builtins (10 tests)            - cd ., echo -n, exit variations
âœ“ Combinations (7 tests)         - Pipes + redirects
âœ“ Exit Status (5 tests)          - Boundary values, wraparound
âœ“ Paths (4 tests)                - Absolute, relative, normalization

INTEGRATED LEAK & FD TESTS (if enabled):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
For EACH passing functional test (~176 tests):
  âœ“ Memory Leak Check      - Valgrind with readline suppression
  âœ“ File Descriptor Check  - FD count monitoring

Total checks when enabled: ~528 (176 Ã— 3)

Example output per test:
  Testing: echo Hello World
  âœ“ PASS
    âœ“ No leaks
    âœ“ No FD leaks

REQUIREMENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Essential:
  â€¢ bash
  â€¢ Your compiled ./minishell binary

Optional (for leak/FD tests):
  â€¢ valgrind (memory leak detection)
  â€¢ /proc filesystem (FD leak detection)

Install valgrind:
  Ubuntu/Debian:  sudo apt-get install valgrind
  Fedora:         sudo dnf install valgrind
  Arch:           sudo pacman -S valgrind

OUTPUT INTERPRETATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Symbols:
  âœ“ PASS          - Test passed successfully
  âœ— FAIL          - Test failed
  âš  Warning       - Non-critical issue

Colors:
  GREEN           - Passing tests
  RED             - Failing tests
  YELLOW          - Warnings or info
  BLUE            - Section headers and stats

RESULTS SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Perfect Score:
  ðŸŽ‰ All tests passed! Perfect score! ðŸŽ‰
  - All functional tests pass
  - No memory leaks
  - No FD leaks

Partial Success:
  âœ“ All functional tests passed!
  âš  Some memory/FD tests failed
  - Commands work but resource leaks exist

Needs Work:
  âœ— Some tests failed
  - Fix functional issues first
  - Then address resource leaks

TYPICAL RESULTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Functional Tests:      ~158/176 passed (90%)
Memory Leak Tests:     ~158/158 passed (100%)
FD Tests:              ~157/158 passed (99%)

Most common failures:
  â€¢ Redirections (implementation complexity)
  â€¢ Exit code propagation in pipes
  â€¢ Long pipe chains (FD management)
  â€¢ Nested quote parsing

QUICK DEBUGGING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Failed functional test:
  1. Look at "Got output" vs "Expected output"
  2. Run command manually in bash
  3. Run same command in ./minishell
  4. Compare outputs character by character

Memory leak:
  1. Run: echo "cmd" | valgrind --leak-check=full \
                --suppressions=readline_curses.supp ./minishell
  2. Look for "definitely lost" lines
  3. Check malloc/free pairs in relevant code

FD leak:
  1. Run: lsof -p $(pgrep minishell) before and after
  2. Check open/close pairs for files and pipes
  3. Verify error paths close all FDs

IMPORTANT NOTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â€¢ Readline leaks are SUPPRESSED - they're not real leaks
â€¢ FD count can vary by 1-2 normally (test allows this)
â€¢ Some tests compare against bash behavior exactly
â€¢ Exit codes must match bash (214 for exit -42, etc.)
â€¢ The tester creates readline_curses.supp automatically

FILES CREATED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â€¢ readline_curses.supp        - Valgrind suppression file
â€¢ /tmp/minishell_out.txt      - Minishell output (temp)
â€¢ /tmp/bash_out.txt           - Bash output (temp)
â€¢ /tmp/valgrind_out.txt       - Valgrind results (temp)

All temporary files are cleaned up automatically.

GETTING HELP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Full documentation:
  â€¢ TESTER_COMPREHENSIVE.md  - Detailed test breakdown
  â€¢ LEAK_FD_TESTING.md       - Memory/FD testing guide
  â€¢ TESTS_ADDED_SUMMARY.txt  - What tests were added

Review failing tests:
  â€¢ Scroll up to see detailed failure output
  â€¢ Check "Expected output" vs "Got output"
  â€¢ Test commands manually to understand behavior

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Good luck with your minishell! ðŸš€
